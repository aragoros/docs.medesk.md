Поручения
---------

Поручения являются инструментом организации работы сотрудников внутри
учреждения. Каждое поручение имеет наименование и описание, в которых содержится
информация для *исполнителя*. Исполнителем поручения, в свою очередь может
являться сотрудник или группа сотрудников организации (должность), которые могут
быть изменены в процесс работы над поручением. То есть, возможно построение
различных бизнес-процессов в которых поручение созданная одним лицом, в процесс
исполнения может быть передано различным исполнителям.


Помимо исполнителя, каждое поручение имеет связанный с ним набор лиц -
*followers* или *читателей* которые принимают участие в работе над поручением.
Этот список формируется автоматически в результате выполнения операций, таких
как: *установить исполнителя*, *добавить комментарий*, *изменить статус* и
другие. Различия между читателем и исполнителем с точки зрения доступных функций
незначительны, и предназначены в основном для моделирования бизнес-процессов
учреждения по работе с поручениями внутри платформы MEDESK.


Все поручения привязаны к организации в которой они созданны. Данная связь
задает круг лиц (все сотрудники организации) которые имеют доступ к поручению.


... TBD


JSON формат
===========

.. literalinclude:: task.json
   :language: json

.. -----------------------------------------------------------------------------
.. http:post:: /tasks

  Создает новое поручение.

  **Запрос**:

  .. sourcecode:: http

    POST /tasks HTTP/1.1
    Host: api.medesk.md
    Content-Type: application/json
    Authorization: Bearer w1cqDn72e9cHxnaSxONf+K3L/QjVqVDUoylPEp+ujXc=

    {
      "name": "Заявка на пробный курс",
      "desc": "Связаться с клиентом и предложить время первого посещения",
      "dueDate": "2015-10-20",
      "utmSource": "google",
      "utmMedium": "cpc",
      "utmContent": "logolink",
      "utmCampaign": "be_healty"
    }

  :json string name: наименование поручения
  :json string desc: информация по поручению
  :json string dueDate: срок исполнения поручения. Задается строкой в формате `ISO 8601`_
  :json string utmTerm: `UTM параметр`_
  :json string utmSource: `UTM параметр`_
  :json string utmMedium: `UTM параметр`_
  :json string utmContent: `UTM параметр`_
  :json string utmCampaign: `UTM параметр`_

  **Ответ**:

  :statuscode 201: Создано новое поручение


.. -----------------------------------------------------------------------------
.. http:get:: /tasks/(id)

  Возвращает информацию об поручении.

  **Запрос**:

  .. sourcecode:: http

    GET /tasks/:id HTTP/1.1
    Host: api.medesk.md
    Authorization: Bearer w1cqDn72e9cHxnaSxONf+K3L/QjVqVDUoylPEp+ujXc=

  :param id: Идентификатор поручения

  **Ответ**:

  :statuscode 200: Успешное выполнение запроса

.. -----------------------------------------------------------------------------

.. _UTM параметр:
.. _UTM: http://support.kissmetrics.com/integrations/utm-variables.html

.. _ISO 8601: https://en.wikipedia.org/wiki/ISO_8601
